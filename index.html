<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>èµ›åšä»™äºº Â· ç´«å¾®æ¢å‘½ (Native)</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* ç§»é™¤æ‰€æœ‰å¯¹ select çš„è‡ªå®šä¹‰æ ·å¼ï¼Œå¼ºåˆ¶ä½¿ç”¨ç³»ç»ŸåŸç”Ÿ */
        body, html {
            margin: 0; padding: 0;
            width: 100%; height: 100%;
            background: #000;
            color: #fff;
            overflow: hidden;
            font-family: serif;
        }

        /* èƒŒæ™¯è§†é¢‘ */
        .bg-layer {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            z-index: -999;
            background: #000 url('https://images.unsplash.com/photo-1515630278258-407f66498911?q=80&w=1080') no-repeat center center/cover;
        }
        video {
            width: 100%; height: 100%;
            object-fit: cover;
            opacity: 0.6;
        }

        /* æ»šåŠ¨å±‚ */
        .content {
            position: relative;
            z-index: 10;
            height: 100vh;
            overflow-y: scroll;
            -webkit-overflow-scrolling: touch;
            padding: 20px;
        }

        .panel {
            background: rgba(20, 20, 20, 0.9);
            border: 1px solid #333;
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 20px;
        }

        /* æç®€åŸç”Ÿæ ·å¼ï¼šä¸åšä»»ä½• fancy çš„äº‹æƒ… */
        select {
            display: block;
            width: 100%;
            height: 44px;
            margin-bottom: 10px;
            font-size: 16px;
            color: #000 !important; /* å¼ºåˆ¶é»‘å­— */
            background-color: #fff !important; /* å¼ºåˆ¶ç™½åº• */
            border: 1px solid #ccc;
            border-radius: 4px;
            padding: 0 10px;
            -webkit-appearance: menulist; /* å¼ºåˆ¶ iOS åŸç”Ÿæ ·å¼ */
            appearance: menulist;
        }
    </style>
</head>
<body>

    <div class="bg-layer">
        <video autoplay muted loop playsinline webkit-playsinline>
            <source src="bg_video.mp4" type="video/mp4">
        </video>
    </div>

    <div class="content">
        <h1 class="text-4xl text-center text-yellow-500 mb-8 mt-8 font-bold" style="text-shadow:0 0 10px gold;">èµ›åšä»™äºº</h1>
        
        <div id="debug-info" style="color:red; font-size:10px; text-align:center;">Debug: v5.0 Native Mode</div>

        <div id="input-box" class="panel">
            <h2 class="text-xl mb-4 text-center">è¯·è¾“å…¥ç”Ÿè¾°</h2>
            
            <label class="block text-sm text-gray-400 mb-1">å§“å</label>
            <input type="text" id="name" placeholder="è¯·è¾“å…¥å§“å" style="width:100%; height:44px; padding:10px; color:#000; margin-bottom:15px;">

            <label class="block text-sm text-gray-400 mb-1">å‡ºç”Ÿå¹´ä»½</label>
            <select id="year">
                <option value="">è¯·é€‰æ‹©å¹´ä»½</option>
                <!-- JSå¡«å…… -->
            </select>

            <label class="block text-sm text-gray-400 mb-1">å‡ºç”Ÿæœˆä»½</label>
            <select id="month">
                <option value="">è¯·é€‰æ‹©æœˆä»½</option>
                <!-- JSå¡«å…… -->
            </select>

            <label class="block text-sm text-gray-400 mb-1">å‡ºç”Ÿæ—¥æœŸ</label>
            <select id="day">
                <option value="">è¯·é€‰æ‹©æ—¥æœŸ</option>
                <!-- JSå¡«å…… -->
            </select>

            <label class="block text-sm text-gray-400 mb-1">å‡ºç”Ÿæ—¶è¾°</label>
            <select id="hour">
                <option value="0">å­æ—¶ (23:00-01:00)</option>
                <option value="1">ä¸‘æ—¶ (01:00-03:00)</option>
                <option value="2">å¯…æ—¶ (03:00-05:00)</option>
                <option value="3">å¯æ—¶ (05:00-07:00)</option>
                <option value="4">è¾°æ—¶ (07:00-09:00)</option>
                <option value="5">å·³æ—¶ (09:00-11:00)</option>
                <option value="6">åˆæ—¶ (11:00-13:00)</option>
                <option value="7">æœªæ—¶ (13:00-15:00)</option>
                <option value="8">ç”³æ—¶ (15:00-17:00)</option>
                <option value="9">é…‰æ—¶ (17:00-19:00)</option>
                <option value="10">æˆŒæ—¶ (19:00-21:00)</option>
                <option value="11">äº¥æ—¶ (21:00-23:00)</option>
            </select>

            <button onclick="calc()" style="width:100%; height:50px; background:blue; color:white; font-weight:bold; border-radius:8px; margin-top:10px;">å¯åŠ¨æ’ç›˜</button>
        </div>

        <div id="result-box" class="hidden space-y-4 pb-20"></div>
    </div>

    <script>
        // æš´åŠ›å¡«å……ï¼šç›´æ¥åœ¨ script æ ‡ç­¾å†…æ‰§è¡Œï¼Œä¸ä¾èµ–ä»»ä½•äº‹ä»¶
        try {
            const y = document.getElementById('year');
            const m = document.getElementById('month');
            const d = document.getElementById('day');

            // å¡«å……å¹´ä»½ 1950-2030
            let yHtml = '<option value="">è¯·é€‰æ‹©å¹´ä»½</option>';
            for(let i=1950; i<=2030; i++) {
                yHtml += `<option value="${i}">${i}å¹´</option>`;
            }
            y.innerHTML = yHtml;

            // å¡«å……æœˆä»½
            let mHtml = '<option value="">è¯·é€‰æ‹©æœˆä»½</option>';
            for(let i=1; i<=12; i++) {
                mHtml += `<option value="${i}">${i}æœˆ</option>`;
            }
            m.innerHTML = mHtml;

            // å¡«å……æ—¥æœŸ
            let dHtml = '<option value="">è¯·é€‰æ‹©æ—¥æœŸ</option>';
            for(let i=1; i<=31; i++) {
                dHtml += `<option value="${i}">${i}æ—¥</option>`;
            }
            d.innerHTML = dHtml;

            document.getElementById('debug-info').innerText += " [JS OK]";
        } catch(e) {
            document.getElementById('debug-info').innerText += " [JS ERR: " + e.message + "]";
        }

        // å‘½æ ¼æ•°æ® (108é€»è¾‘ç®€åŒ–ç‰ˆï¼Œå®é™…éƒ¨ç½²æ—¶ä¼šå±•å¼€)
        const db = [
             { star: "ç´«å¾®ç‹¬å (å¸ç‹æ ¼)", slogan: "ä¸‡ç‹ä¹‹ç‹", desc: "å¤©ç”Ÿæ‹¥æœ‰ä¸Šå¸è§†è§’çš„ç³»ç»Ÿç®¡ç†è€…ã€‚ä½ çš„ä¸€ç”Ÿæ³¨å®šä¸å‡¡ï¼Œè¦ä¹ˆæˆä¸ºè§„åˆ™çš„åˆ¶å®šè€…ï¼Œè¦ä¹ˆæˆä¸ºå­¤ç‹¬çš„å®ˆæœ›è€…ã€‚", career: "ã€é€‚åˆã€‘æ ¸å¿ƒå†³ç­–ã€é«˜ç®¡ã€ç‹¬ç«‹ä¸»ç†äººã€‚
ã€ä¼˜åŠ¿ã€‘å¤§å±€è§‚æå¼ºï¼Œå¤©ç”Ÿé¢†è¢–ã€‚
ã€ç—›ç‚¹ã€‘æ›²é«˜å’Œå¯¡ï¼Œæ˜“é™·å­¤ç«‹ã€‚", love: "ã€æƒ…æ„Ÿã€‘çœ¼å…‰æé«˜ï¼Œéœ€è¦ç²¾ç¥å…±é¸£ã€‚
ã€é¿å‘ã€‘è¿‡äºå¼ºåŠ¿ï¼Œéœ€å­¦ä¼šç¤ºå¼±ã€‚", health: "ã€å¥åº·ã€‘æ³¨æ„è„¾èƒƒä¸ç²¾ç¥å‹åŠ›ã€‚" },
             { star: "æ€ç ´ç‹¼ (å˜åŠ¨æ ¼)", slogan: "å¼€ç–†æ‹“åœŸ", desc: "æ··ä¹±ä¸­çš„ç ´å±€è€…ã€‚ä½ çš„ç”Ÿå‘½åœ¨äºæŠ˜è…¾ï¼Œå¹³ç¨³çš„ç”Ÿæ´»å¯¹ä½ æ¥è¯´å°±æ˜¯æ…¢æ€§æ­»äº¡ã€‚", career: "ã€é€‚åˆã€‘åˆ›ä¸šã€é”€å”®ã€é£æŠ•ã€å†›è­¦ã€‚
ã€ä¼˜åŠ¿ã€‘æ‰§è¡ŒåŠ›å¼ºï¼Œæ•¢äºå†’é™©ã€‚
ã€ç—›ç‚¹ã€‘è€æ€§å·®ï¼Œå¤§èµ·å¤§è½ã€‚", love: "ã€æƒ…æ„Ÿã€‘çˆ±æ¨åˆ†æ˜ï¼Œå–œæ¬¢æŒ‘æˆ˜ã€‚
ã€é¿å‘ã€‘æ™šå©šä¸ºå®œï¼Œé¿å…å†²åŠ¨ã€‚", health: "ã€å¥åº·ã€‘æ³¨æ„å¤–ä¼¤ä¸å‘¼å¸ç³»ç»Ÿã€‚" },
             { star: "æœºæœˆåŒæ¢ (åäººæ ¼)", slogan: "ç¨³å¥äººç”Ÿ", desc: "ç¤¾ä¼šæœºå™¨çš„ç²¾å¯†é½¿è½®ã€‚ä½ æ˜¯æœ€é è°±çš„æ‰§è¡Œè€…ï¼Œä¸ä»…èƒ½æŠŠäº‹æƒ…åšå¯¹ï¼Œè¿˜èƒ½æŠŠäº‹æƒ…åšå¥½ã€‚", career: "ã€é€‚åˆã€‘å…¬èŒã€å¤§ä¼ã€æ•™è‚²ã€è´¢åŠ¡ã€‚
ã€ä¼˜åŠ¿ã€‘é€»è¾‘ç¼œå¯†ï¼Œé£é™©åŒæ¶ã€‚
ã€ç—›ç‚¹ã€‘ç¼ºä¹é­„åŠ›ï¼Œæ˜“å¤±è‰¯æœºã€‚", love: "ã€æƒ…æ„Ÿã€‘ç»†æ°´é•¿æµï¼Œå¹³æ·¡æ˜¯çœŸã€‚
ã€é¿å‘ã€‘å¤šç‚¹æµªæ¼«ï¼Œå°‘ç‚¹è¯´æ•™ã€‚", health: "ã€å¥åº·ã€‘æ³¨æ„ç¥ç»ç³»ç»Ÿä¸è‚èƒ†ã€‚" }
        ];

        function calc() {
            const name = document.getElementById('name').value;
            const yVal = document.getElementById('year').value;
            if(!name || !yVal) { alert('è¯·å¡«å®Œæ•´ä¿¡æ¯'); return; }

            const seed = parseInt(yVal) + parseInt(document.getElementById('month').value || 1) + parseInt(document.getElementById('day').value || 1) + parseInt(document.getElementById('hour').value || 0);
            const data = db[seed % db.length];

            document.getElementById('input-box').classList.add('hidden');
            const res = document.getElementById('result-box');
            res.classList.remove('hidden');

            res.innerHTML = `
                <div class="panel border-t-4 border-yellow-500">
                    <h2 class="text-2xl font-bold text-yellow-500">${data.star}</h2>
                    <h3 class="text-white mt-2">â€œ${data.slogan}â€</h3>
                    <p class="text-gray-300 mt-4 text-sm leading-relaxed">${data.desc}</p>
                </div>
                <div class="panel border-l-4 border-blue-500">
                    <h3 class="text-blue-400 font-bold mb-2">âš¡ äº‹ä¸šç®—åŠ›</h3>
                    <pre class="text-sm text-gray-300 whitespace-pre-wrap font-sans">${data.career}</pre>
                </div>
                <div class="panel border-l-4 border-pink-500">
                    <h3 class="text-pink-400 font-bold mb-2">â¤ï¸ æƒ…æ„Ÿåè®®</h3>
                    <pre class="text-sm text-gray-300 whitespace-pre-wrap font-sans">${data.love}</pre>
                </div>
                 <div class="panel border-l-4 border-green-500">
                    <h3 class="text-green-400 font-bold mb-2">ğŸ”‹ ç¡¬ä»¶ç»´æŠ¤</h3>
                    <pre class="text-sm text-gray-300 whitespace-pre-wrap font-sans">${data.health}</pre>
                </div>
                <button onclick="location.reload()" style="width:100%; height:50px; border:1px solid #666; color:#999; border-radius:25px;">é‡å¯ç³»ç»Ÿ</button>
            `;
        }
    </script>
</body>
</html>
